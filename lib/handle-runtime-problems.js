// Generated by CoffeeScript 1.6.3
var handleRuntimeProblems, logger;

logger = require('./logger');

handleRuntimeProblems = function(runtime) {
  var error, message, origin, warning, _i, _j, _len, _len1, _ref, _ref1;
  if (runtime['warnings'].length > 0) {
    _ref = runtime['warnings'];
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      warning = _ref[_i];
      message = warning['message'];
      origin = warning['origin'];
      logger.warn("Runtime compilation warning: " + warning['message'] + "\n on " + origin['resourceGroupName'] + ' > ' + origin['resourceName'] + ' > ' + origin['actionName']);
    }
  }
  if (runtime['errors'].length > 0) {
    _ref1 = runtime['errors'];
    for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
      error = _ref1[_j];
      message = error['message'];
      origin = error['origin'];
      logger.error("Runtime compilation error: " + error['message'] + "\n on " + origin['resourceGroupName'] + ' > ' + origin['resourceName'] + ' > ' + origin['actionName']);
    }
    return new Error("Error parsing ast to blueprint.");
  }
};

module.exports = handleRuntimeProblems;
